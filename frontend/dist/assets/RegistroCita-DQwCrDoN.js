import{r as f,t as Ce,c as Ee,a as v,u as Ne,b as _e,d as Q,S as Z,E as Ae,_ as ee,e as l,f as t,g as c,n as h,h as m,w as Ie,i as p,v as y,j as s,m as w,k,l as d,o as te,F as U,p as q,q as oe,s as n,x as Me}from"./index-Bsngmbjx.js";const Se={class:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Te={class:"sm:mx-auto sm:w-full sm:max-w-4xl"},Pe={class:"bg-white py-8 px-4 shadow-xl sm:rounded-xl sm:px-10 border border-slate-100"},Ve={class:"border-b border-gray-200 mb-6"},Fe={class:"-mb-px flex space-x-8","aria-label":"Tabs"},je={key:0},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Oe={key:0,class:"mt-1 text-sm text-red-600"},Be={key:0,class:"mt-1 text-sm text-red-600"},He={key:0,class:"mt-1 text-sm text-red-600"},Le={key:0,class:"mt-1 text-sm text-red-600"},Re={key:0,class:"mt-1 text-sm text-red-600"},$e={key:0,class:"mt-1 text-sm text-red-600"},Ue=["min"],qe={key:0,class:"mt-1 text-sm text-red-600"},Xe=["value"],Ge={key:0,class:"mt-1 text-sm text-red-600"},Ke={class:"md:col-span-2"},Je={key:0,class:"mt-1 text-sm text-red-600"},We={class:"md:col-span-2 bg-gray-50 rounded-lg p-4 border border-gray-200"},Ye={class:"mt-3 flex items-center gap-4"},Qe={class:"bg-white border-2 border-dashed border-gray-300 rounded-lg px-4 py-2 font-mono text-lg font-bold text-gray-700 select-none"},Ze={key:0,class:"mt-1 text-sm text-red-600"},et={class:"flex justify-end pt-4"},tt=["disabled"],ot={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},st={key:1,class:"space-y-6"},rt={class:"flex gap-4"},lt={class:"flex-1"},nt={key:0,class:"mt-1 text-sm text-red-600"},at=["disabled"],dt={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},it={key:1,class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ut={key:0,class:"mt-6 space-y-6"},ct={key:1,class:"mt-6 space-y-6"},mt={class:"flex flex-wrap justify-between items-start gap-4 mb-4"},bt={class:"font-bold text-lg text-gray-800"},pt={class:"text-sm text-gray-600"},xt={class:"text-xs text-gray-400 mt-1 font-mono"},ft={class:"mb-4 py-4 border-t border-b border-gray-100"},gt={class:"relative flex items-start justify-center"},vt={class:"flex flex-col items-center z-10"},ht={class:"text-xs text-gray-400"},yt={class:"flex flex-col items-center z-10"},wt={key:0,class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},kt={key:1,class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Dt={key:2},Ct={key:0,class:"text-xs text-gray-400"},Et={key:1,class:"text-xs text-gray-300"},Nt={key:0,class:"mt-4 p-4 bg-slate-50 rounded-xl border border-slate-200 mb-4"},_t={class:"flex items-start gap-3"},At={class:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-1"},It={key:0},Mt={key:1},St={class:"text-sm text-slate-700 leading-relaxed font-medium"},Tt={class:"flex justify-end"},Pt=["onClick"],Vt={key:2,class:"text-center text-gray-500 py-8"},zt={__name:"RegistroCita",setup(Ft){const E=f("register"),_=f(!1),se=new Date().toISOString().split("T")[0],re=Ce(Ee({dni:v().required("El DNI es obligatorio").matches(/^\d{8}$/,"El DNI debe tener 8 dígitos"),oficina:v().required("Debe seleccionar una oficina"),apellidos:v().required("Los apellidos son obligatorios").min(2,"Mínimo 2 caracteres"),nombres:v().required("Los nombres son obligatorios").min(2,"Mínimo 2 caracteres"),celular:v().required("El celular es obligatorio").matches(/^9\d{8}$/,"El celular debe tener 9 dígitos y empezar con 9"),correo:v().required("El correo es obligatorio").email("Ingrese un correo válido"),fecha:v().required("Debe seleccionar una fecha"),hora:v().required("Debe seleccionar una hora"),asunto:v().required("El asunto es obligatorio").min(10,"El asunto debe tener al menos 10 caracteres")})),{errors:a,defineField:g,handleSubmit:le,resetForm:ne}=Ne({validationSchema:re}),[P,ae]=g("dni"),[V,de]=g("oficina"),[F,ie]=g("apellidos"),[j,ue]=g("nombres"),[z,ce]=g("celular"),[O,me]=g("correo"),[B,be]=g("fecha"),[H,pe]=g("hora"),[L,xe]=g("asunto"),A=f(""),N=f(""),I=f({num1:0,num2:0,operator:"+",answer:0}),M=f(""),D=f(""),S=()=>{const r=["+","-","x"],e=r[Math.floor(Math.random()*r.length)];let o,i,u;e==="+"?(o=Math.floor(Math.random()*20)+1,i=Math.floor(Math.random()*20)+1,u=o+i):e==="-"?(o=Math.floor(Math.random()*20)+10,i=Math.floor(Math.random()*o),u=o-i):(o=Math.floor(Math.random()*10)+1,i=Math.floor(Math.random()*10)+1,u=o*i),I.value={num1:o,num2:i,operator:e,answer:u},M.value="",D.value=""};S();const fe=_e(()=>{const r=[];let e=8,o=0;const i=17,u=30;for(;e<i||e===i&&o<=u;){const b=e.toString().padStart(2,"0"),x=o.toString().padStart(2,"0");r.push(`${b}:${x}`),o+=30,o>=60&&(o=0,e++)}return r}),ge=()=>(D.value="",M.value?parseInt(M.value)!==I.value.answer?(D.value="Respuesta incorrecta. Intente nuevamente.",S(),!1):!0:(D.value="Por favor resuelva la operación matemática",!1)),ve=le(async r=>{_.value=!0;try{const e=await Q.post("/citas/request",r),o={...r,id:e.data.id,estado:"PENDIENTE"};await Z.fire({icon:"success",title:"Cita Registrada",text:"Su cita ha sido registrada con éxito. Se generará su constancia.",confirmButtonText:"Descargar Voucher"}).then(i=>{i.isConfirmed&&W(o)}),ne(),S()}catch(e){Z.fire({icon:"error",title:"Error",text:e.response?.data?.message||"Hubo un error al registrar la cita"})}finally{_.value=!1}}),X=()=>{ge()&&ve()},T=f([]),G=f(!1),C=f(!1),he=()=>(N.value="",A.value?/^\d{8}$/.test(A.value)?!0:(N.value="El DNI debe tener 8 dígitos",!1):(N.value="Ingrese su DNI",!1)),R=r=>{if(!r)return"";try{return new Date(r).toLocaleDateString("es-PE",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})}catch{return r}},ye=r=>{if(r.historial&&r.historial.length>1){const e=r.historial[r.historial.length-1];if(e?.fecha)return R(e.fecha)}return R(new Date().toISOString())},K=r=>{if(r.historial&&Array.isArray(r.historial)&&r.historial.length>0){const e=[...r.historial].reverse().filter(o=>o.descripcion&&o.descripcion.trim()!=="Cita registrada");if(e.length>0)return e[0].descripcion}return""},J=async()=>{if(he()){C.value=!0;try{const r=await Q.get(`/citas/status/${A.value}`);T.value=r.data,G.value=!0}catch(r){console.error(r),T.value=[]}finally{C.value=!1}}},W=r=>{const e=new Ae;try{e.addImage(ee,"PNG",20,10,25,25)}catch($){console.warn("Could not add logo to PDF",$)}e.setFontSize(22),e.setTextColor(40,50,100),e.text("DRE Huánuco",105,20,{align:"center"}),e.setFontSize(12),e.setTextColor(100),e.text("Constancia de Cita Electrónica",105,30,{align:"center"});const o=r.estado||"PENDIENTE";let i=[200,150,0];o==="ATENDIDO"&&(i=[0,150,50]),o==="CANCELADO"&&(i=[200,50,50]),e.setFillColor(...i),e.roundedRect(75,35,60,10,3,3,"F"),e.setFontSize(10),e.setTextColor(255,255,255),e.text(`Estado: ${o}`,105,42,{align:"center"}),e.setDrawColor(200),e.line(20,50,190,50);const u=60,b=12;e.setFontSize(11),e.setTextColor(50);const x=($,De,Y)=>{e.setFont("helvetica","bold"),e.text(`${$}:`,30,Y),e.setFont("helvetica","normal"),e.text(String(De||"N/A"),85,Y)};x("ID de Cita",r.id,u),x("Fecha",r.fecha,u+b),x("Hora",r.hora,u+b*2),x("Oficina",r.oficina,u+b*3),x("Solicitante",`${r.nombres||""} ${r.apellidos||""}`.trim()||"N/A",u+b*4),x("DNI",r.dni,u+b*5),x("Celular",r.celular,u+b*6),x("Correo",r.correo,u+b*7),e.setFont("helvetica","bold"),e.text("Asunto:",30,u+b*8),e.setFont("helvetica","normal");const we=e.splitTextToSize(String(r.asunto||"N/A"),100);e.text(we,85,u+b*8),e.setFontSize(8),e.setTextColor(150),e.text("Este documento sirve como constancia de su reserva de cita.",105,270,{align:"center"}),e.text("Presente este documento el día de su cita.",105,275,{align:"center"}),e.text(`Generado el: ${new Date().toLocaleString()}`,105,280,{align:"center"});const ke=e.output("bloburl");window.open(ke,"_blank")};return(r,e)=>(n(),l("div",Se,[t("div",Te,[e[41]||(e[41]=t("div",{class:"text-center mb-8"},[t("img",{src:ee,alt:"DRE Huánuco",class:"mx-auto h-20 w-auto"}),t("h2",{class:"mt-6 text-3xl font-extrabold text-slate-900"}," Portal de Citas en Línea "),t("p",{class:"mt-2 text-sm text-slate-600"}," Dirección Regional de Educación Huánuco ")],-1)),t("div",Pe,[t("div",Ve,[t("nav",Fe,[t("button",{onClick:e[0]||(e[0]=o=>E.value="register"),class:h([E.value==="register"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"])},[...e[13]||(e[13]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),m(" Nueva Cita ",-1)])],2),t("button",{onClick:e[1]||(e[1]=o=>E.value="consult"),class:h([E.value==="consult"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"])},[...e[14]||(e[14]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),m(" Consultar Estado ",-1)])],2)])]),E.value==="register"?(n(),l("div",je,[t("form",{onSubmit:Ie(X,["prevent"]),class:"space-y-6"},[t("div",ze,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("DNI "),t("span",{class:"text-red-500"},"*")],-1)),p(t("input",w({"onUpdate:modelValue":e[2]||(e[2]=o=>k(P)?P.value=o:null)},s(ae),{type:"text",maxlength:"8",class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).dni?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),null,16),[[y,s(P)]]),s(a).dni?(n(),l("p",Oe,d(s(a).dni),1)):c("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Oficina de Destino "),t("span",{class:"text-red-500"},"*")],-1)),p(t("select",w({"onUpdate:modelValue":e[3]||(e[3]=o=>k(V)?V.value=o:null)},s(de),{class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).oficina?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),[...e[16]||(e[16]=[t("option",{value:""},"Seleccione una oficina",-1),t("option",null,"Dirección",-1),t("option",null,"Administración",-1),t("option",null,"Gestión Pedagógica",-1),t("option",null,"Gestión Institucional",-1),t("option",null,"Asesoría Jurídica",-1),t("option",null,"Recursos Humanos",-1),t("option",null,"Mesa de Partes",-1)])],16),[[te,s(V)]]),s(a).oficina?(n(),l("p",Be,d(s(a).oficina),1)):c("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Apellidos "),t("span",{class:"text-red-500"},"*")],-1)),p(t("input",w({"onUpdate:modelValue":e[4]||(e[4]=o=>k(F)?F.value=o:null)},s(ie),{type:"text",class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).apellidos?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),null,16),[[y,s(F)]]),s(a).apellidos?(n(),l("p",He,d(s(a).apellidos),1)):c("",!0)]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Nombres "),t("span",{class:"text-red-500"},"*")],-1)),p(t("input",w({"onUpdate:modelValue":e[5]||(e[5]=o=>k(j)?j.value=o:null)},s(ue),{type:"text",class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).nombres?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),null,16),[[y,s(j)]]),s(a).nombres?(n(),l("p",Le,d(s(a).nombres),1)):c("",!0)]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Número de Celular "),t("span",{class:"text-red-500"},"*")],-1)),p(t("input",w({"onUpdate:modelValue":e[6]||(e[6]=o=>k(z)?z.value=o:null)},s(ce),{type:"tel",maxlength:"9",placeholder:"9XXXXXXXX",class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).celular?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),null,16),[[y,s(z)]]),s(a).celular?(n(),l("p",Re,d(s(a).celular),1)):c("",!0)]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Correo Electrónico "),t("span",{class:"text-red-500"},"*")],-1)),p(t("input",w({"onUpdate:modelValue":e[7]||(e[7]=o=>k(O)?O.value=o:null)},s(me),{type:"email",placeholder:"ejemplo@correo.com",class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).correo?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),null,16),[[y,s(O)]]),s(a).correo?(n(),l("p",$e,d(s(a).correo),1)):c("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Fecha de Cita "),t("span",{class:"text-red-500"},"*")],-1)),p(t("input",w({"onUpdate:modelValue":e[8]||(e[8]=o=>k(B)?B.value=o:null)},s(be),{type:"date",min:s(se),class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).fecha?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),null,16,Ue),[[y,s(B)]]),s(a).fecha?(n(),l("p",qe,d(s(a).fecha),1)):c("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Horario Disponible "),t("span",{class:"text-red-500"},"*")],-1)),p(t("select",w({"onUpdate:modelValue":e[9]||(e[9]=o=>k(H)?H.value=o:null)},s(pe),{class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).hora?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),[e[23]||(e[23]=t("option",{value:""},"Seleccione una hora",-1)),(n(!0),l(U,null,q(fe.value,o=>(n(),l("option",{key:o,value:o},d(o),9,Xe))),128))],16),[[te,s(H)]]),s(a).hora?(n(),l("p",Ge,d(s(a).hora),1)):c("",!0)]),t("div",Ke,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700"},[m("Asunto de la Reserva "),t("span",{class:"text-red-500"},"*")],-1)),p(t("textarea",w({"onUpdate:modelValue":e[10]||(e[10]=o=>k(L)?L.value=o:null)},s(xe),{rows:"3",placeholder:"Describa el motivo de su cita...",class:["mt-1 block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",s(a).asunto?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"]}),null,16),[[y,s(L)]]),s(a).asunto?(n(),l("p",Je,d(s(a).asunto),1)):c("",!0)]),t("div",We,[t("div",{class:"flex items-center gap-4"},[e[27]||(e[27]=t("div",{class:"flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),t("span",{class:"text-sm font-medium text-gray-700"},"Verificación de seguridad")],-1)),t("button",{type:"button",onClick:S,class:"text-blue-600 hover:text-blue-800 text-sm"},[...e[26]||(e[26]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])]),t("div",Ye,[t("div",Qe,d(I.value.num1)+" "+d(I.value.operator)+" "+d(I.value.num2)+" = ? ",1),t("div",null,[p(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>M.value=o),type:"number",placeholder:"Respuesta",onKeyup:oe(X,["enter"]),class:h(["w-28 rounded-md shadow-sm sm:text-sm border p-2 text-center font-semibold transition-colors",D.value?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"])},null,34),[[y,M.value]]),D.value?(n(),l("p",Ze,d(D.value),1)):c("",!0)])])])]),t("div",et,[t("button",{type:"submit",disabled:_.value,class:"ml-3 inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[_.value?(n(),l("svg",ot,[...e[28]||(e[28]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),m(" "+d(_.value?"Procesando...":"Reservar Cita"),1)],8,tt)])],32)])):c("",!0),E.value==="consult"?(n(),l("div",st,[t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ingrese su DNI para consultar sus citas",-1)),t("div",rt,[t("div",lt,[p(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>A.value=o),type:"text",placeholder:"Ingrese su DNI (8 dígitos)",maxlength:"8",onKeyup:oe(J,["enter"]),class:h(["block w-full rounded-md shadow-sm sm:text-sm border p-2 transition-colors",N.value?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"])},null,34),[[y,A.value]]),N.value?(n(),l("p",nt,d(N.value),1)):c("",!0)]),t("button",{onClick:J,disabled:C.value,class:"inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none h-fit disabled:opacity-50 disabled:cursor-not-allowed transition-opacity"},[C.value?(n(),l("svg",dt,[...e[29]||(e[29]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),l("svg",it,[...e[30]||(e[30]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])])),m(" "+d(C.value?"Buscando...":"Buscar"),1)],8,at)])]),C.value?(n(),l("div",ut,[(n(),l(U,null,q(2,o=>t("div",{key:o,class:"border rounded-xl p-6 bg-white animate-pulse"},[...e[32]||(e[32]=[Me('<div class="flex justify-between items-start mb-4"><div class="space-y-2"><div class="h-6 bg-gray-200 rounded w-48"></div><div class="h-4 bg-gray-100 rounded w-32"></div><div class="h-3 bg-gray-50 rounded w-24"></div></div><div class="h-10 bg-gray-200 rounded-full w-28"></div></div><div class="py-4 border-t border-b border-gray-100 mt-4"><div class="h-3 bg-gray-100 rounded w-20 mb-4"></div><div class="flex justify-center items-center gap-12 relative h-20"><div class="w-12 h-12 bg-gray-200 rounded-full"></div><div class="w-20 h-[2px] bg-gray-100"></div><div class="w-12 h-12 bg-gray-200 rounded-full"></div></div></div>',2)])])),64))])):c("",!0),T.value.length>0&&!C.value?(n(),l("div",ct,[(n(!0),l(U,null,q(T.value,o=>(n(),l("div",{key:o.id,class:"border rounded-xl p-6 bg-white shadow-sm hover:shadow-md transition-shadow"},[t("div",mt,[t("div",null,[t("p",bt,d(o.fecha)+" - "+d(o.hora),1),t("p",pt,d(o.oficina),1),t("p",xt,"ID: "+d(o.id.slice(0,8))+"...",1)]),t("span",{class:h([{"bg-yellow-100 text-yellow-800 border-yellow-300":o.estado==="PENDIENTE","bg-green-100 text-green-800 border-green-300":o.estado==="ATENDIDO","bg-red-100 text-red-800 border-red-300":o.estado==="CANCELADO"},"px-4 py-2 rounded-full text-sm font-bold border"])},d(o.estado),3)]),t("div",ft,[e[38]||(e[38]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wider mb-4 font-semibold"},"Estado de la Cita",-1)),t("div",gt,[t("div",{class:h(["absolute top-6 left-1/2 -translate-x-1/2 w-[120px] h-[2px]",o.estado!=="PENDIENTE"?"bg-gradient-to-r from-blue-400 to-green-400":"bg-gray-300"])},null,2),t("div",vt,[e[33]||(e[33]=t("div",{class:"w-12 h-12 rounded-full flex items-center justify-center font-semibold text-lg bg-white border-[3px] border-blue-500 text-blue-500"}," 1 ",-1)),e[34]||(e[34]=t("p",{class:"mt-2 text-sm font-medium text-blue-600"},"Registrada",-1)),t("p",ht,d(o.created_at?R(o.created_at):""),1)]),e[37]||(e[37]=t("div",{class:"w-[72px]"},null,-1)),t("div",yt,[t("div",{class:h([{"border-green-500 text-green-500":o.estado==="ATENDIDO","border-red-500 text-red-500":o.estado==="CANCELADO","border-gray-300 text-gray-300":o.estado==="PENDIENTE"},"w-12 h-12 rounded-full flex items-center justify-center font-semibold text-lg bg-white border-[3px]"])},[o.estado==="ATENDIDO"?(n(),l("svg",wt,[...e[35]||(e[35]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M5 13l4 4L19 7"},null,-1)])])):o.estado==="CANCELADO"?(n(),l("svg",kt,[...e[36]||(e[36]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(n(),l("span",Dt,"2"))],2),t("p",{class:h(["mt-2 text-sm font-medium",{"text-green-600":o.estado==="ATENDIDO","text-red-600":o.estado==="CANCELADO","text-gray-400":o.estado==="PENDIENTE"}])},d(o.estado==="ATENDIDO"?"Atendida":o.estado==="CANCELADO"?"Cancelada":"Finalización"),3),o.estado!=="PENDIENTE"?(n(),l("p",Ct,d(ye(o)),1)):(n(),l("p",Et,"Pendiente"))])])]),o.estado!=="PENDIENTE"&&K(o)?(n(),l("div",Nt,[t("div",_t,[t("div",{class:h([o.estado==="ATENDIDO"?"text-green-500":"text-red-500","mt-0.5"])},[...e[39]||(e[39]=[t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],2),t("div",null,[t("p",At,[o.estado==="ATENDIDO"?(n(),l("span",It,"Observación de Atención")):(n(),l("span",Mt,"Motivo de Cancelación"))]),t("p",St,d(K(o)),1)])])])):c("",!0),t("div",Tt,[t("button",{onClick:i=>W(o),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium"},[...e[40]||(e[40]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m(" Ver Voucher ",-1)])],8,Pt)])]))),128))])):G.value?(n(),l("div",Vt," No se encontraron citas para el DNI ingresado. ")):c("",!0)])):c("",!0)])])]))}};export{zt as default};
